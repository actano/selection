!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Yourchoice=t():e.Yourchoice=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChangedDeselection=t.getChangedSelection=t.getSelection=t.getItems=t.rangeTo=t.removeAll=t.remove=t.toggle=t.replace=t.setSelection=t.setItems=t.init=void 0;var r,i=n(1),s=(r=i)&&r.__esModule?r:{default:r};function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.length;return function(){for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];var c=n.concat(s);return c.length<r?e(t,c):t.apply(void 0,o(c))}},c=function(e){return Array.from(e)},u=function(e,t){return t.includes(e)},a=function(e,t){return e.filter(function(e){return t.includes(e)})},f=function e(t,n){if(Array.isArray(t)){return t.reduce(function(t,n){return e(n,t)},n)}return n.filter(function(e){return e!==t})};var h=l(function(e,t){var n,r,i=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;t.push(l)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return t}(e);return{items:i,selected:a(t.selected,i),changed:{selected:[],deselected:(n=t.selected,r=i,n.filter(function(e){return!r.includes(e)}))},anchor:u(t.anchor,i)?t.anchor:null}}),d=l(function(e,t){var n=a(e,t.items);return{items:t.items,selected:n,changed:{selected:f(t.selected,n),deselected:f(n,t.selected)},anchor:t.anchor}});function v(e){return null!==e.anchor&&void 0!==e.anchor?e.anchor:e.selected.length>0?function(e){var t=null,n=function(t){return-1!==e.selected.indexOf(t)},r=!0,i=!1,s=void 0;try{for(var o,l=e.items[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value;n(c)&&(t=c)}}catch(e){i=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw s}}return t}(e):e.items[0]}var m=l(function(e,t){return u(e,t.items)?{items:t.items,selected:[e],changed:{selected:f(t.selected,[e]),deselected:f([e],t.selected)},anchor:e}:t}),g=l(function(e,t){if(!u(e,t.items))return t;if(!u(e,t.selected))return{items:t.items,selected:t.selected.concat([e]),changed:{selected:[e],deselected:[]},anchor:e};var n=e===t.anchor?null:t.anchor;return{items:t.items,selected:f([e],t.selected),changed:{selected:[],deselected:[e]},anchor:n}}),p=l(function(e,t){return{items:t.items,selected:f(e,t.selected),changed:{selected:[],deselected:a(e,t.selected)},anchor:null}}),y=l(function(e){return{items:e.items,selected:[],changed:{selected:[],deselected:e.selected},anchor:null}});var _=l(function(e,t){if(!u(e,t.items))return t;var n=v(t,t.items),r=function(e,t,n){for(var r=function(e){return-1!==t.indexOf(e)},i=[],s=n.indexOf(e),o=s;o>=0&&r(n[o]);o-=1)i.push(n[o]);for(var l=s;l<n.length&&r(n[l]);l+=1)i.push(n[l]);return i}(n,t.selected,t.items),i=function(e,t,n){if(e===t)return[e];var r=n.indexOf(e),i=n.indexOf(t);if(r>i){var s=r;r=i,i=s}return n.slice(r,i+1)}(n,e,t.items),l=(0,s.default)(function(e){return f(r,e)},function(e){return t=e,[].concat(o(new Set(i.concat(t))));var t})(t.selected);return{items:t.items,selected:l,changed:{selected:f(t.selected,l),deselected:f(l,t.selected)},anchor:t.anchor}});t.init=function(){return{items:[],selected:[],changed:{selected:[],deselected:[]},anchor:null}},t.setItems=h,t.setSelection=d,t.replace=m,t.toggle=g,t.remove=p,t.removeAll=y,t.rangeTo=_,t.getItems=function(e){return c(e.items)},t.getSelection=function(e){return c(e.selected)},t.getChangedSelection=function(e){return c(e.changed.selected)},t.getChangedDeselection=function(e){return c(e.changed.deselected)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return t(e)};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(r,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChangedDeselection=t.getChangedSelection=t.getSelection=t.getItems=t.rangeTo=t.removeAll=t.remove=t.toggle=t.replace=t.setSelection=t.setItems=t.init=void 0;var r=n(0);Object.defineProperty(t,"init",{enumerable:!0,get:function(){return r.init}}),Object.defineProperty(t,"setItems",{enumerable:!0,get:function(){return r.setItems}}),Object.defineProperty(t,"setSelection",{enumerable:!0,get:function(){return r.setSelection}}),Object.defineProperty(t,"replace",{enumerable:!0,get:function(){return r.replace}}),Object.defineProperty(t,"toggle",{enumerable:!0,get:function(){return r.toggle}}),Object.defineProperty(t,"remove",{enumerable:!0,get:function(){return r.remove}}),Object.defineProperty(t,"removeAll",{enumerable:!0,get:function(){return r.removeAll}}),Object.defineProperty(t,"rangeTo",{enumerable:!0,get:function(){return r.rangeTo}}),Object.defineProperty(t,"getItems",{enumerable:!0,get:function(){return r.getItems}}),Object.defineProperty(t,"getSelection",{enumerable:!0,get:function(){return r.getSelection}}),Object.defineProperty(t,"getChangedSelection",{enumerable:!0,get:function(){return r.getChangedSelection}}),Object.defineProperty(t,"getChangedDeselection",{enumerable:!0,get:function(){return r.getChangedDeselection}});var i,s=n(3),o=(i=s)&&i.__esModule?i:{default:i};t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(4)),s=l(n(1)),o=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return console.warn("DEPRECATION warning: The imperative interface of yourchoice is deprecated and will be removed in yourchoice 3.0.0"),n.iterable=e,n.state=(0,o.init)(),n._updateSelectedItems(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"toggle",value:function(e){this.state=(0,s.default)((0,o.setItems)(this.iterable),(0,o.toggle)(e))(this.state),this._updateSelectedItems(),this._notifyChangedItems(),this._emitChangeEvent()}},{key:"replace",value:function(e){this.state=(0,s.default)((0,o.setItems)(this.iterable),(0,o.replace)(e))(this.state),this._updateSelectedItems(),this._notifyChangedItems(),this._emitChangeEvent()}},{key:"remove",value:function(e){this.state=(0,s.default)((0,o.setItems)(this.iterable),(0,o.remove)(e))(this.state),this._updateSelectedItems(),this._notifyChangedItems(),this._emitChangeEvent()}},{key:"removeAll",value:function(){this.state=(0,s.default)((0,o.setItems)(this.iterable),(0,o.removeAll)())(this.state),this._updateSelectedItems(),this._notifyChangedItems(),this._emitChangeEvent()}},{key:"rangeTo",value:function(e){this.state=(0,s.default)((0,o.setItems)(this.iterable),(0,o.rangeTo)(e))(this.state),this._updateSelectedItems(),this._notifyChangedItems(),this._emitChangeEvent()}},{key:"_updateSelectedItems",value:function(){this.selectedItems=(0,o.getSelection)(this.state)}},{key:"_notifyChangedItems",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,o.getChangedSelection)(this.state)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.select()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}var s=!0,l=!1,c=void 0;try{for(var u,a=(0,o.getChangedDeselection)(this.state)[Symbol.iterator]();!(s=(u=a.next()).done);s=!0){u.value.deselect()}}catch(e){l=!0,c=e}finally{try{!s&&a.return&&a.return()}finally{if(l)throw c}}}},{key:"_emitChangeEvent",value:function(){((0,o.getChangedSelection)(this.state).length>0||(0,o.getChangedDeselection)(this.state).length>0)&&this.emit("change",this.selectedItems.slice())}}]),t}();t.default=c},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,l,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(s(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),n.apply(this,l)}else if(i(n))for(l=Array.prototype.slice.call(arguments,1),o=(u=n.slice()).length,c=0;c<o;c++)u[c].apply(this,l);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,s,o,l;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,s=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(l=o;l-- >0;)if(n[l]===t||n[l].listener&&n[l].listener===t){s=l;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}}])});